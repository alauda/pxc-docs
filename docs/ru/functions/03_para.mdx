---
weight: 3
sourceSHA: 255a7146ad99bfeff24a391c7931266c4335b37a3333946335a7e7a6569707c6
---

# Конфигурация параметров

Конфигурирование соответствующих параметров MySQL в зависимости от бизнес-сценариев может помочь базе данных достичь оптимальной производительности и лучше поддерживать бизнес-операции. По умолчанию экземпляры MySQL-PXC используют системные параметры, предоставленные MySQL и Percona. Вы также можете удобно настраивать эти параметры через интерфейс.

Платформа предоставляет шаблоны параметров для определения серии ожидаемых вами параметров MySQL. При создании экземпляра вы можете пакетно изменить параметры по умолчанию, используя шаблон параметров, в то время как параметры, не включенные в шаблон, сохранят свои значения по умолчанию. После того как экземпляр будет работать нормально, вы можете обновить параметры MySQL.

Для получения дополнительной информации о параметрах, пожалуйста, обратитесь к [Официальному сайту MySQL](https://dev.mysql.com/doc/refman/5.7/en/innodb-parameters.html) и [Официальному сайту Percona](https://docs.percona.com/percona-xtradb-cluster/8.0/) .

## Примечание

Модификация конфигурации параметров приведет к последовательной перезагрузке Pods, что может вызвать кратковременное прерывание бизнес-процессов.

## Процедура

<Tabs>
  <Tab label="CLI">
    ```bash
    kubectl patch mysql -n <namespace> <name> --type='merge' --patch '
    spec:
      params:
        mysql:
          mysqld:
            max_connections: "1000"
            expire_logs_days: "7"
    '
    ```

    Вы можете изменить параметры, изменив spec.params.mysql в CR, при этом соответствующие ключи параметров должны совпадать с параметрами MySQL. Как показано выше, установите max\_connections на 1000 и expire\_logs\_days на 7.
  </Tab>

  <Tab label="Web Console">
    #### Использование рекомендуемых шаблонов для установки параметров

    **Совет**: Пожалуйста, обратитесь к **Шаблонам параметров** для создания шаблонов параметров.

    - Платформа предоставляет различные спецификации шаблонов параметров для использования любым экземпляром MySQL-PXC в кластере. Каждая спецификация шаблона параметров конфигурируется с системными параметрами, такими как `innodb_flush_log_at_trx_commit = 1` и `sync_binlog = 1`, что помогает улучшить безопасность MySQL.

    - Шаблон параметров по умолчанию, применяемый к экземплярам MySQL-PXC, называется **hhd-1c2g-pxc-template**. При создании экземпляра MySQL-PXC вы можете выбрать соответствующий шаблон параметров в зависимости от фактического дискового носителя и характеристик экземпляра.

    #### Обновление параметров

    После обновления существующих конфигураций параметров для экземпляра, реплики MySQL будут автоматически перезапущены для применения изменений.

    ##### Процедура

    1. Щелкните на **MySQL-PXC** в левой навигационной панели.

    2. Щелкните на ***имя пространства имен***.

    3. Щелкните на ***имя экземпляра***.

    4. На вкладке **Конфигурация параметров** нажмите **Обновить параметры**.

    5. Настройте ожидаемые параметры, включая конфигурацию их по отдельности или массовый импорт.

       **Примечание**: При импорте параметров, пожалуйста, убедитесь, что не включены неподдерживаемые MySQL параметры, иначе экземпляр может не запуститься.

    6. Нажмите **Обновить**.

    ##### Полезная заметка

    Если вам нужно повторно использовать конфигурацию параметров другого экземпляра, вы можете щелкнуть на экспорт параметров на вкладке **Конфигурация параметров** исходного экземпляра и обратиться к шаблону параметров для создания пользовательского шаблона и массового импорта параметров.
  </Tab>
</Tabs>
