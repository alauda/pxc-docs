---
weight: 15
i18n:
  title:
    en: Install
sourceSHA: 157af7b70d49254846816367d1acb436af0d5803eabe249e346f17fbd372a842
title: Install
---

# Deployment

## Installing the Alauda Container Platform Data Services Essentials Plugin

::: tip Optional Deployment
The plugin is a fundamental component of the Data Services view; it can be omitted if web console are not required.
:::

### Prerequisites

1. Download the Alauda Container Platform Data Services Essentials installation package that matches your platform.
2. Use the platform's application listing capability to list the Alauda Container Platform Data Services Essentials in the ***global cluster***.

### Procedure

<Tabs>
  <Tab label="Web Console">
    1. In the left navigation bar, go to **Marketplace** > **Cluster Plugins**.
    2. Select the **global** cluster.
    3. Click the operation button next to the **Alauda Container Platform Data Services Essentials** plugin > **Deploy**.
  </Tab>
</Tabs>

## Installing the Alauda Container Platform Data Services RDS Framework Plugin

::: tip Optional Deployment
The plugin is a fundamental component of the Data Services view; it can be omitted if graphical services are not required.
:::

### Prerequisites

1. Download the Alauda Container Platform Data Services RDS Framework installation package that matches your platform.
2. Use the platform's application listing capability to list the Alauda Container Platform Data Services RDS Framework in any cluster where you wish to use Data Services view.

### Procedure

<Tabs>
  <Tab label="Web Console">
    1. Log in to the platform and go to the **Administrator** page.
    2. In the left navigation bar, select **Marketplace** -> **Operator** to enter the **OperatorHub** page.
    3. Find **Alauda Container Platform Data Services RDS Framework**, click **Deploy**, and enter the deployment page.

    Configuration Parameters:

    | **Parameter**   | **Recommended Configuration**                                            |
    | :------- | :-------------------------------------------------- |
    | **Upgrade Strategy** | **Manual**: When there is a new version in the Operator Hub, manual confirmation is required to upgrade the Operator to the latest version. |
    | **Deployment Mode** | **Cluster**: All namespaces under the cluster share a single Operator to create and manage instances, resulting in lower resource consumption.    |
    | **Channel**   | The default channel is **stable**.                           |
    | **Namespace** | Choose **Recommended Namespace**: Automatically created if none exists.                               |

    4. On the **Deploy Operator** page, select **Default Configuration**, then click **Deploy** to complete the deployment of **Alauda Container Platform Data Services RDS Framework**.
  </Tab>
</Tabs>

## Installing Alauda Container Platform Data Services Query Analytics

::: tip Optional Installation
The plugin serves as a foundational component for query analytics capabilities. It is not necessary to install it if query performance monitoring and analysis are not required.
:::

### Prerequisites
1. Install the **ClickHouse** plugin from the **Operator Hub** in the **Marketplace** first.
2. Download Alauda Container Platform Data Services Query Analytics installation package that matches the platform.
3. Use the platform's application publishing capability to publish Alauda Container Platform Data Services Query Analytics to any cluster where Application Services graphical capabilities are desired.

### Procedure

<Tabs>
  <Tab label="Web Console">
    1. Log in to the platform and navigate to the **Platform Management** page.
    2. In the left navigation bar, select **Marketplace** -> **Operator Hub** to enter the **Operator Hub** page.
    3. Find **Alauda Container Platform Data Services Query Analytics**, click **Install** to access the installation page.

    Configuration Parameters:

    | **Parameter**   | **Recommended Configuration**                                      |
    | :-------------- | :----------------------------------------------------------------- |
    | **Channel**     | The default Channel is **stable**.                                 |
    | **Version**     | Select the desired version to install.                             |
    | **Installation Mode** | **Cluster**: All namespaces under the cluster share one Operator for creating and managing instances, resulting in lower resource usage. |
    | **Installation Location**   | Choose the **Recommended**: If none exists, it will be created automatically. |
    | **Upgrade Strategy** | **Manual**: When a new version is available in the Operator Hub, manual confirmation is required to upgrade the Operator to the latest version. |

    4. On the **Install Operator** page, select **Default Configuration**, then click **Install** to complete the installation of **Alauda Container Platform Data Services Query Analytics**.
  </Tab>
</Tabs>

:::warning Storage Configuration
The Query Analytics plugin defaults to hostPath storage at `/cpaas/ck`. If this path doesn't exist (commonly changed to `/var/cpaas`), follow these steps:

1. Edit the QueryAnalyticsInstaller (`qai`) resource
2. Configure `slowSQL.storageClassName` with your system's storage class
Example configuration:
```yaml
kind: QueryAnalyticsInstaller
metadata:
  name: qai
  resourceVersion: "4145608"
spec:
  slowSQL:
    GRPCPort: "9922"
    HTTPPort: "9911"
    clickhouse:
      clickhouseImage: 192.168.128.24/middleware/clickhouse-server:v24.8.3.59-64c1f43f
      resources:
        limits:
          cpu: "1"
          memory: 2Gi
        requests:
          cpu: "1"
          memory: 2Gi
    dataCleanCorn: 0 0 18 * * ?
    dataKeepDays: "15"
    name: pxc-ck
    namespace: cpaas-system
    server:
      image: 192.168.128.24/middleware/slowsql:2926e899
    storageClassName: mid-topolvmsc
```
3. Delete existing pods and PVCs for changes to apply:
   ```bash
   kubectl -n cpaas-system delete pvc -l clickhouse.altinity.com/cluster=slowsql-cluster &
   kubectl -n cpaas-system delete pod -l clickhouse.altinity.com/cluster=slowsql-cluster
   ```
:::

## Installing the Alauda Database Service for MySQL-PXC Plugin

### Prerequisites

1. Download the plugin installation package that matches your platform.
2. Use the platform's application listing capability to list the plugin in any cluster where you wish to use Alauda Database Service for MySQL-PXC capabilities.

### Procedure

<Tabs>
  <Tab label="Web Console">
    1. Log in to the platform and go to the **Administrator** page.
    2. In the left navigation bar, select **Marketplace** -> **Operator** to enter the **Operator Hub** page.
    3. Find **Alauda Database Service for MySQL-PXC**, click **Deploy**, and enter the deployment page.

    Configuration Parameters:

    | **Parameter**   | **Recommended Configuration**                                            |
    | :------- | :-------------------------------------------------- |
    | **Upgrade Strategy** | **Manual**: When there is a new version in the Operator Hub, manual confirmation is required to upgrade the Operator to the latest version. |
    | **Deployment Mode** | **Cluster**: All namespaces under the cluster share a single Operator to create and manage instances, resulting in lower resource consumption.    |
    | **Channel**   | The default channel is **stable**.                           |
    | **Namespace** | Choose **Recommended Namespace**: Automatically created if none exists.                               |

    4. On the **Deploy Operator** page, select **Default Configuration**, then click **Deploy** to complete the deployment.
  </Tab>
</Tabs>
