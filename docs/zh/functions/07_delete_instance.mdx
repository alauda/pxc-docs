# 删除实例

## 功能简介

本功能用于删除 MySQL-PXC 实例。用户可以通过指定实例名称和命名空间来删除指定的实例。删除实例后，可选择是否保留实例数据，。如果不保留实例数据，实例数据将被永久删除，无法恢复。

## 操作步骤

<Tabs>
<Tab label="命令行操作">
1. 确定是否保留数据   
- 保留数据，执行命令
```bash
kubectl patch mysql -n $namespace $name --type json -p '[{"op": "add", "path": "/metadata/finalizers/-", "value": "delete-pvc"}]'
```  

- 不保留数据，执行命令  
```bash
current_finalizers=$(kubectl get mysql -n $namespace $name -o jsonpath='{.metadata.finalizers}' | jq --arg f "delete-pvc" 'map(select(. != $f))')
kubectl patch mysql -n $namespace $name --type merge -p "{\"metadata\":{\"finalizers\":$current_finalizers}}"
```

2. 删除实例
```bash
kubectl delete mysql -n $namespace $name
```
</Tab>

<Tab label="界面操作">
1. 在左侧导航栏中，单击 MySQL-PXC。

2. 单击 命名空间的名称。

3. 单击 实例名称 。

4. 单击 操作 > 删除，并确认。
</Tab>
</Tabs>